<div class="w-full max-w-xl p-6 space-y-8 sm:p-8 bg-white rounded-lg shadow dark:bg-gray-800">
  <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Editar Perfil</h2>
  <form class="mt-8 space-y-6" [formGroup]="form" (ngSubmit)="submit()">
    <div>
      <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
      <input type="email" name="email" id="email" formControlName="email" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]" required readonly>
    </div>
    <div>
      <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nombre Completo</label>
      <input type="text" name="name" id="name" formControlName="name" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]">
      <span *ngIf="isValidField('name')" style="color: rgb(248, 64, 64);">
        Campo inválido, debe ser mínimo de 3 caracteres.
      </span>
    </div>
    <div>
      <label for="institution" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Institución</label>
      <input type="text" name="institution" id="institution" formControlName="institution" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]">
      <span *ngIf="isValidField('institution')" style="color: rgb(248, 64, 64);">
        Campo inválido, debe ser mínimo de 3 caracteres.
      </span>
    </div>
    <div>
      <label for="researchGroup" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Grupo de investigación </label>
      <input type="text" name="researchGroup" id="researchGroup" formControlName="researchGroup" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]">
      <span *ngIf="isValidField('researchGroup')" style="color: rgb(248, 64, 64);">
        Campo inválido, debe ser mínimo de 3 caracteres.
      </span>
    </div>
    <div>
      <label for="researchLines" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">lineas de investigación (Separada por Comas)</label>
      <input type="text" name="researchLines" id="researchLines" formControlName="researchLines" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]">
    </div>
    <div>
      <label for="interestAreas" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Otras areas de Interes (Separada por Comas)</label>
      <input type="text" name="interestAreas" id="interestAreas" formControlName="interestAreas" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]">
    </div>
    <div>
      <label for="apiKeyChatGPT" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" mat-icon-button matTooltip="For the correct operation of the application you need to enter your ApiKey in the system environment variables (follow the 'Apikey Configuration' manual)" class="help-icon"> Conexión de prueba con OpenAI API key (ChatGpt)  <mat-icon>help</mat-icon></label>
      <input type="text" name="apiKeyChatGPT" id="apiKeyChatGPT" formControlName="apiKeyChatGPT" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-[#FBBF01] focus:border-[#FBBF01] block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-[#FBBF01] dark:focus:border-[#FBBF01]">
      <span *ngIf="isValidField('apiKeyChatGPT')" style="color: rgb(248, 64, 64);">
        Campo inválido, debe ser mínimo de 3 caracteres.
      </span>
      <p></p>
      <button mat-raised-button class="buttons" (click)="proveApiKey()" type="button">Probar ApiKey</button>
    </div>
    <button type="submit" class="w-full px-5 py-3 text-base font-medium text-center text-white bg-[#003772] rounded-lg hover:bg-[#00254a] focus:ring-4 focus:ring-[#FBBF01] sm:w-auto dark:bg-[#003772] dark:hover:bg-[#00254a] dark:focus:ring-[#FBBF01]" [disabled]="!campoModificado()" [ngClass]="{'btn-deshabilitado': !campoModificado()}">Actualizar Perfil</button>
  </form>
</div>
