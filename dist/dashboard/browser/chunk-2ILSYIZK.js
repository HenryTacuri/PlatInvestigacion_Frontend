import{a as cr,b as dr,c as Gs,d as re,e as a,f as rt}from"./chunk-OYL2YZNW.js";var ur=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},qs=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],c=n[t++],d=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,d=r+2<n.length,l=d?n[r+2]:0,h=s>>2,f=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,S=l&63;d||(S=64,o||(m=64)),i.push(t[h],t[f],t[m],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ur(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qs(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let f=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||l==null||f==null)throw new Jt;let m=s<<2|c>>4;if(i.push(m),l!==64){let S=c<<4&240|l>>2;if(i.push(S),f!==64){let ie=l<<6&192|f;i.push(ie)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Jt=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ks=function(n){let e=ur(n);return hr.encodeByteArray(e,!0)},Ne=function(n){return Ks(n).replace(/\./g,"")},Qt=function(n){try{return hr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Oe(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!Ys(t)||(n[t]=Oe(n[t],e[t]));return n}function Ys(n){return n!=="__proto__"}function Js(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Xs=()=>Js().__FIREBASE_DEFAULTS__,Qs=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Zs=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Qt(n[1]);return e&&JSON.parse(e)},ot=()=>{try{return Xs()||Qs()||Zs()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fr=n=>{var e,t;return(t=(e=ot())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cl=n=>{let e=fr(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Zt=()=>{var n;return(n=ot())===null||n===void 0?void 0:n.config},pr=n=>{var e;return(e=ot())===null||e===void 0?void 0:e[`_${n}`]};var st=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function dl(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),c="";return[Ne(JSON.stringify(t)),Ne(JSON.stringify(o)),c].join(".")}function v(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function at(){var n;let e=(n=ot())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gr(){return typeof self=="object"&&self.self===self}function ct(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function De(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dt(){let n=v();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ll(){return!at()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return typeof indexedDB=="object"}catch{return!1}}function _r(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var eo="FirebaseError",T=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=eo,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}},C=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?to(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new T(r,c,i)}};function to(n,e){return n.replace(no,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var no=/\{\$([^}]+)}/g;function en(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vr(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Le(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(lr(s)&&lr(o)){if(!Le(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function lr(n){return n!==null&&typeof n=="object"}function se(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Y(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ye(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lt(n,e){let t=new Xt(n,e);return t.subscribe.bind(t)}var Xt=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");io(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Yt),r.error===void 0&&(r.error=Yt),r.complete===void 0&&(r.complete=Yt);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function io(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yt(){}var ul=4*60*60*1e3;function p(n){return n&&n._delegate?n._delegate:n}var R=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oe="[DEFAULT]";var tn=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new st;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(so(e))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=oe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return a(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oe){return this.instances.has(e)}getOptions(e=oe){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ro(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oe){return this.component?this.component.multipleInstances?e:oe:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ro(n){return n===oe?void 0:n}function so(n){return n.instantiationMode==="EAGER"}var ut=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var En={};Gs(En,{FirebaseError:()=>T,SDK_VERSION:()=>j,_DEFAULT_ENTRY_NAME:()=>U,_addComponent:()=>Ue,_addOrOverwriteComponent:()=>mn,_apps:()=>X,_clearComponents:()=>qo,_components:()=>Me,_getProvider:()=>gn,_registerComponent:()=>$,_removeServiceInstance:()=>Go,deleteApp:()=>_n,getApp:()=>Dr,getApps:()=>Yo,initializeApp:()=>ft,onLog:()=>vn,registerVersion:()=>O,setLogLevel:()=>In});var nn=[],g=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(g||{}),Ir={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},oo=g.INFO,ao={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},co=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=ao[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},J=class{constructor(e){this.name=e,this._logLevel=oo,this._logHandler=co,this._userLogHandler=null,nn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in g))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ir[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...e),this._logHandler(this,g.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...e),this._logHandler(this,g.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,g.INFO,...e),this._logHandler(this,g.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,g.WARN,...e),this._logHandler(this,g.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...e),this._logHandler(this,g.ERROR,...e)}};function Er(n){nn.forEach(e=>{e.setLogLevel(n)})}function yr(n,e){for(let t of nn){let i=null;e&&e.level&&(i=Ir[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(r,s,...o)=>{let c=o.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(i??r.logLevel)&&n({level:g[s].toLowerCase(),message:c,args:o,type:r.name})}}}var lo=(n,e)=>e.some(t=>n instanceof t),wr,Tr;function uo(){return wr||(wr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ho(){return Tr||(Tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var br=new WeakMap,sn=new WeakMap,Ar=new WeakMap,rn=new WeakMap,an=new WeakMap;function fo(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(x(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&br.set(t,n)}).catch(()=>{}),an.set(e,n),e}function po(n){if(sn.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});sn.set(n,e)}var on={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sn.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ar.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return x(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Sr(n){on=n(on)}function mo(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(ht(this),e,...t);return Ar.set(i,e.sort?e.sort():[e]),x(i)}:ho().includes(n)?function(...e){return n.apply(ht(this),e),x(br.get(this))}:function(...e){return x(n.apply(ht(this),e))}}function go(n){return typeof n=="function"?mo(n):(n instanceof IDBTransaction&&po(n),lo(n,uo())?new Proxy(n,on):n)}function x(n){if(n instanceof IDBRequest)return fo(n);if(rn.has(n))return rn.get(n);let e=go(n);return e!==n&&(rn.set(n,e),an.set(e,n)),e}var ht=n=>an.get(n);function Pr(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),c=x(o);return i&&o.addEventListener("upgradeneeded",d=>{i(x(o.result),d.oldVersion,d.newVersion,x(o.transaction),d)}),t&&o.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),r&&d.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var _o=["get","getKey","getAll","getAllKeys","count"],vo=["put","add","delete","clear"],cn=new Map;function Rr(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cn.get(e))return cn.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=vo.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_o.includes(t)))return;let s=function(o,...c){return a(this,null,function*(){let d=this.transaction(o,r?"readwrite":"readonly"),l=d.store;return i&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),r&&d.done]))[0]})};return cn.set(e,s),s}Sr(n=>dr(cr({},n),{get:(e,t,i)=>Rr(e,t)||n.get(e,t,i),has:(e,t)=>!!Rr(e,t)||n.has(e,t)}));var ln=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Io(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Io(n){let e=n.getComponent();return e?.type==="VERSION"}var un="@firebase/app",kr="0.9.25";var ae=new J("@firebase/app"),Eo="@firebase/app-compat",yo="@firebase/analytics-compat",wo="@firebase/analytics",To="@firebase/app-check-compat",bo="@firebase/app-check",Ao="@firebase/auth",So="@firebase/auth-compat",Ro="@firebase/database",Po="@firebase/database-compat",ko="@firebase/functions",Co="@firebase/functions-compat",No="@firebase/installations",Oo="@firebase/installations-compat",Do="@firebase/messaging",Lo="@firebase/messaging-compat",Mo="@firebase/performance",xo="@firebase/performance-compat",Uo="@firebase/remote-config",Fo="@firebase/remote-config-compat",Vo="@firebase/storage",Wo="@firebase/storage-compat",Ho="@firebase/firestore",Bo="@firebase/firestore-compat",zo="firebase",$o="10.7.1";var U="[DEFAULT]",jo={[un]:"fire-core",[Eo]:"fire-core-compat",[wo]:"fire-analytics",[yo]:"fire-analytics-compat",[bo]:"fire-app-check",[To]:"fire-app-check-compat",[Ao]:"fire-auth",[So]:"fire-auth-compat",[Ro]:"fire-rtdb",[Po]:"fire-rtdb-compat",[ko]:"fire-fn",[Co]:"fire-fn-compat",[No]:"fire-iid",[Oo]:"fire-iid-compat",[Do]:"fire-fcm",[Lo]:"fire-fcm-compat",[Mo]:"fire-perf",[xo]:"fire-perf-compat",[Uo]:"fire-rc",[Fo]:"fire-rc-compat",[Vo]:"fire-gcs",[Wo]:"fire-gcs-compat",[Ho]:"fire-fst",[Bo]:"fire-fst-compat","fire-js":"fire-js",[zo]:"fire-js-all"};var X=new Map,Me=new Map;function Ue(n,e){try{n.container.addComponent(e)}catch(t){ae.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mn(n,e){n.container.addOrOverwriteComponent(e)}function $(n){let e=n.name;if(Me.has(e))return ae.debug(`There were multiple attempts to register component ${e}.`),!1;Me.set(e,n);for(let t of X.values())Ue(t,n);return!0}function gn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Go(n,e,t=U){gn(n,e).clearInstance(t)}function qo(){Me.clear()}var Ko={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},z=new C("app","Firebase",Ko);var hn=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new R("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw z.create("app-deleted",{appName:this._name})}};var j=$o;function ft(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:U,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw z.create("bad-app-name",{appName:String(r)});if(t||(t=Zt()),!t)throw z.create("no-options");let s=X.get(r);if(s){if(Le(t,s.options)&&Le(i,s.config))return s;throw z.create("duplicate-app",{appName:r})}let o=new ut(r);for(let d of Me.values())o.addComponent(d);let c=new hn(t,i,o);return X.set(r,c),c}function Dr(n=U){let e=X.get(n);if(!e&&n===U&&Zt())return ft();if(!e)throw z.create("no-app",{appName:n});return e}function Yo(){return Array.from(X.values())}function _n(n){return a(this,null,function*(){let e=n.name;X.has(e)&&(X.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})}function O(n,e,t){var i;let r=(i=jo[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ae.warn(c.join(" "));return}$(new R(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function vn(n,e){if(n!==null&&typeof n!="function")throw z.create("invalid-log-argument");yr(n,e)}function In(n){Er(n)}var Jo="firebase-heartbeat-database",Xo=1,xe="firebase-heartbeat-store",dn=null;function Lr(){return dn||(dn=Pr(Jo,Xo,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(xe)}}}).catch(n=>{throw z.create("idb-open",{originalErrorMessage:n.message})})),dn}function Qo(n){return a(this,null,function*(){try{return yield(yield Lr()).transaction(xe).objectStore(xe).get(Mr(n))}catch(e){if(e instanceof T)ae.warn(e.message);else{let t=z.create("idb-get",{originalErrorMessage:e?.message});ae.warn(t.message)}}})}function Cr(n,e){return a(this,null,function*(){try{let i=(yield Lr()).transaction(xe,"readwrite");yield i.objectStore(xe).put(e,Mr(n)),yield i.done}catch(t){if(t instanceof T)ae.warn(t.message);else{let i=z.create("idb-set",{originalErrorMessage:t?.message});ae.warn(i.message)}}})}function Mr(n){return`${n.name}!${n.options.appId}`}var Zo=1024,ea=30*24*60*60*1e3,fn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new pn(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return a(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Nr();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=ea}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return a(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Nr(),{heartbeatsToSend:i,unsentEntries:r}=ta(this._heartbeatsCache.heartbeats),s=Ne(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Nr(){return new Date().toISOString().substring(0,10)}function ta(n,e=Zo){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Or(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Or(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var pn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return a(this,null,function*(){return Ee()?_r().then(()=>!0).catch(()=>!1):!1})}read(){return a(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Qo(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return a(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Cr(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return a(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Cr(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Or(n){return Ne(JSON.stringify({version:2,heartbeats:n})).length}function na(n){$(new R("platform-logger",e=>new ln(e),"PRIVATE")),$(new R("heartbeat",e=>new fn(e),"PRIVATE")),O(un,kr,n),O(un,kr,"esm2017"),O("fire-js","")}na("");var yn=class{constructor(e,t){this._delegate=e,this.firebase=t,Ue(e,new R("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),_n(this._delegate)))}_getService(e,t=U){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=U){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ue(this._delegate,e)}_addOrOverwriteComponent(e){mn(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var ia={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},xr=new C("app-compat","Firebase",ia);function ra(n){let e={},t={__esModule:!0,initializeApp:s,app:r,registerVersion:O,setLogLevel:In,onLog:vn,apps:null,SDK_VERSION:j,INTERNAL:{registerComponent:c,removeApp:i,useAsService:d,modularAPIs:En}};t.default=t,Object.defineProperty(t,"apps",{get:o});function i(l){delete e[l]}function r(l){if(l=l||U,!en(e,l))throw xr.create("no-app",{appName:l});return e[l]}r.App=n;function s(l,h={}){let f=ft(l,h);if(en(e,f.name))return e[f.name];let m=new n(f,t);return e[f.name]=m,m}function o(){return Object.keys(e).map(l=>e[l])}function c(l){let h=l.name,f=h.replace("-compat","");if($(l)&&l.type==="PUBLIC"){let m=(S=r())=>{if(typeof S[f]!="function")throw xr.create("invalid-app-argument",{appName:h});return S[f]()};l.serviceProps!==void 0&&Oe(m,l.serviceProps),t[f]=m,n.prototype[f]=function(...S){return this._getService.bind(this,h).apply(this,l.multipleInstances?S:[])}}return l.type==="PUBLIC"?t[f]:null}function d(l,h){return h==="serverAuth"?null:h}return t}function Fr(){let n=ra(yn);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Fr,extendNamespace:e,createSubscribe:lt,ErrorFactory:C,deepExtend:Oe});function e(t){Oe(n,t)}return n}var sa=Fr();var Ur=new J("@firebase/app-compat"),oa="@firebase/app-compat",aa="0.2.25";function ca(n){O(oa,aa,n)}if(gr()&&self.firebase!==void 0){Ur.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&Ur.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var pt=sa;ca();var he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function da(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function Zr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Qn=da,es=Zr,ts=new C("auth","Firebase",Zr());var vt=new J("@firebase/auth");function la(n,...e){vt.logLevel<=g.WARN&&vt.warn(`Auth (${j}): ${n}`,...e)}function gt(n,...e){vt.logLevel<=g.ERROR&&vt.error(`Auth (${j}): ${n}`,...e)}function w(n,...e){throw Zn(n,...e)}function b(n,...e){return Zn(n,...e)}function ns(n,e,t){let i=Object.assign(Object.assign({},es()),{[e]:t});return new C("auth","Firebase",i).create(e,{appName:n.name})}function Ae(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&w(n,"argument-error"),ns(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zn(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ts.create(n,...e)}function u(n,e,...t){if(!n)throw Zn(e,...t)}function F(n){let e="INTERNAL ASSERTION FAILED: "+n;throw gt(e),new Error(e)}function N(n,e){n||F(e)}function He(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ei(){return Vr()==="http:"||Vr()==="https:"}function Vr(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function ua(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ei()||ct()||"connection"in navigator)?navigator.onLine:!0}function ha(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ce=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,N(t>e,"Short delay should be less than long delay!"),this.isMobile=mr()||De()}get(){return ua()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ti(n,e){N(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Be=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;F("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;F("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;F("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pa=new ce(3e4,6e4);function I(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function E(s,o,c,d){return a(this,arguments,function*(n,e,t,i,r={}){return is(n,r,()=>a(this,null,function*(){let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});let f=se(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),Be.fetch()(rs(n,n.config.apiHost,t,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function is(n,e,t){return a(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},fa),e);try{let r=new Sn(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Fe(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[d,l]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fe(n,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Fe(n,"email-already-in-use",o);if(d==="USER_DISABLED")throw Fe(n,"user-disabled",o);let h=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ns(n,h,l);w(n,h)}}catch(r){if(r instanceof T)throw r;w(n,"network-request-failed",{message:String(r)})}})}function K(s,o,c,d){return a(this,arguments,function*(n,e,t,i,r={}){let l=yield E(n,e,t,i,r);return"mfaPendingCredential"in l&&w(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function rs(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?ti(n.config,r):`${n.config.apiScheme}://${r}`}function ma(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Sn=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(b(this.auth,"network-request-failed")),pa.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fe(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=b(n,e,i);return r.customData._tokenResponse=t,r}function Wr(n){return n!==void 0&&n.getResponse!==void 0}function Hr(n){return n!==void 0&&n.enterprise!==void 0}var Rn=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ma(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function ga(n){return a(this,null,function*(){return(yield E(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function _a(n,e){return a(this,null,function*(){return E(n,"GET","/v2/recaptchaConfig",I(n,e))})}function va(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:delete",e)})}function Ia(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:update",e)})}function Ea(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:lookup",e)})}function Ve(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ss(n,e=!1){return a(this,null,function*(){let t=p(n),i=yield t.getIdToken(e),r=Nt(i);u(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ve(wn(r.auth_time)),issuedAtTime:Ve(wn(r.iat)),expirationTime:Ve(wn(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function wn(n){return Number(n)*1e3}function Nt(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return gt("JWT malformed, contained fewer than 3 sections"),null;try{let r=Qt(t);return r?JSON.parse(r):(gt("Failed to decode base64 JWT payload"),null)}catch(r){return gt("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ya(n){let e=Nt(n);return u(e,"internal-error"),u(typeof e.exp<"u","internal-error"),u(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function q(n,e,t=!1){return a(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof T&&wa(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function wa({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Pn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>a(this,null,function*(){yield this.iteration()}),t)}iteration(){return a(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var It=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ve(this.lastLoginAt),this.creationTime=Ve(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ze(n){return a(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield q(n,Ea(t,{idToken:i}));u(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ba(s.providerUserInfo):[],c=Ta(n.providerData,o),d=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,h=d?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new It(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,f)})}function os(n){return a(this,null,function*(){let e=p(n);yield ze(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Ta(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function ba(n){return n.map(e=>{var{providerId:t}=e,i=rt(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Aa(n,e){return a(this,null,function*(){let t=yield is(n,{},()=>a(this,null,function*(){let i=se({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=rs(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Sa(n,e){return a(this,null,function*(){return E(n,"POST","/v2/accounts:revokeToken",I(n,e))})}var Et=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){u(e.idToken,"internal-error"),u(typeof e.idToken<"u","internal-error"),u(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ya(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){return a(this,null,function*(){return u(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return a(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Aa(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(u(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(u(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(u(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return F("not implemented")}};function Q(n,e){u(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var we=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=rt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new It(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return a(this,null,function*(){let t=yield q(this,this.stsTokenManager.getToken(this.auth,e));return u(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ss(this,e)}reload(){return os(this)}_assign(e){this!==e&&(u(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){u(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return a(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ze(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return a(this,null,function*(){let e=yield this.getIdToken();return yield q(this,va(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,c,d,l,h;let f=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,S=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,ie=(o=t.photoURL)!==null&&o!==void 0?o:void 0,nr=(c=t.tenantId)!==null&&c!==void 0?c:void 0,jt=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,ir=(l=t.createdAt)!==null&&l!==void 0?l:void 0,rr=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Gt,emailVerified:sr,isAnonymous:or,providerData:qt,stsTokenManager:ar}=t;u(Gt&&ar,e,"internal-error");let $s=Et.fromJSON(this.name,ar);u(typeof Gt=="string",e,"internal-error"),Q(f,e.name),Q(m,e.name),u(typeof sr=="boolean",e,"internal-error"),u(typeof or=="boolean",e,"internal-error"),Q(S,e.name),Q(ie,e.name),Q(nr,e.name),Q(jt,e.name),Q(ir,e.name),Q(rr,e.name);let Kt=new n({uid:Gt,auth:e,email:m,emailVerified:sr,displayName:f,isAnonymous:or,photoURL:ie,phoneNumber:S,tenantId:nr,stsTokenManager:$s,createdAt:ir,lastLoginAt:rr});return qt&&Array.isArray(qt)&&(Kt.providerData=qt.map(js=>Object.assign({},js))),jt&&(Kt._redirectEventId=jt),Kt}static _fromIdTokenResponse(e,t,i=!1){return a(this,null,function*(){let r=new Et;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield ze(s),s})}};var Br=new Map;function A(n){N(n instanceof Function,"Expected a class definition");let e=Br.get(n);return e?(N(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Br.set(n,e),e)}var Ra=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return a(this,null,function*(){return!0})}_set(t,i){return a(this,null,function*(){this.storage[t]=i})}_get(t){return a(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return a(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),ee=Ra;function V(n,e,t){return`firebase:${n}:${e}:${t}`}var yt=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=V(this.userKey,r.apiKey,s),this.fullPersistenceKey=V("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return a(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?we._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return a(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return a(this,null,function*(){if(!t.length)return new n(A(ee),e,i);let r=(yield Promise.all(t.map(l=>a(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||A(ee),o=V(i,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(o);if(h){let f=we._fromJSON(e,h);l!==s&&(c=f),s=l;break}}catch{}let d=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new n(s,e,i):(s=d[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>a(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,i))})}};function zr(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ds(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(as(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ls(e))return"Blackberry";if(us(e))return"Webos";if(ni(e))return"Safari";if((e.includes("chrome/")||cs(e))&&!e.includes("edge/"))return"Chrome";if(Se(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function as(n=v()){return/firefox\//i.test(n)}function ni(n=v()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cs(n=v()){return/crios\//i.test(n)}function ds(n=v()){return/iemobile/i.test(n)}function Se(n=v()){return/android/i.test(n)}function ls(n=v()){return/blackberry/i.test(n)}function us(n=v()){return/webos/i.test(n)}function fe(n=v()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hs(n=v()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Pa(n=v()){var e;return fe(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ka(){return dt()&&document.documentMode===10}function fs(n=v()){return fe(n)||Se(n)||us(n)||ls(n)||/windows phone/i.test(n)||ds(n)}function Ca(){try{return!!(window&&window!==window.top)}catch{return!1}}function ii(n,e=[]){let t;switch(n){case"Browser":t=zr(v());break;case"Worker":t=`${zr(v())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${j}/${i}`}var kn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,c)=>{try{let d=e(s);o(d)}catch(d){c(d)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return a(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Na(t){return a(this,arguments,function*(n,e={}){return E(n,"GET","/v2/passwordPolicy",I(n,e))})}var Oa=6,Cn=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Oa,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,c;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var wt=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tt(this),this.idTokenSubscription=new Tt(this),this.beforeStateQueue=new kn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ts,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=A(t)),this._initializationPromise=this.queue(()=>a(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield yt.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return a(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return a(this,null,function*(){var t;let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return u(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return a(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return a(this,null,function*(){try{yield ze(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ha()}_delete(){return a(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return a(this,null,function*(){let t=e?p(e):null;return t&&u(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return a(this,null,function*(){if(!this._deleted)return e&&u(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>a(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return a(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>a(this,null,function*(){yield this.assertedPersistence.setPersistence(A(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return a(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return a(this,null,function*(){let e=yield Na(this),t=new Cn(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new C("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return a(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Sa(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return a(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return a(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&A(e)||this._popupRedirectResolver;u(t,this,"argument-error"),this.redirectPersistenceManager=yield yt.create(this,[A(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return a(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>a(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return a(this,null,function*(){if(e===this.currentUser)return this.queue(()=>a(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(u(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,i,r);return()=>{o=!0,d()}}else{let d=e.addObserver(t);return()=>{o=!0,d()}}}directlySetCurrentUser(e){return a(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return u(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return a(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return a(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&la(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function _(n){return p(n)}var Tt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lt(t=>this.observer=t)}get next(){return u(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function Da(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function ri(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=b("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Da().appendChild(i)})}function ps(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var La="https://www.google.com/recaptcha/enterprise.js?render=",Ma="recaptcha-enterprise",xa="NO_RECAPTCHA",Nn=class{constructor(e){this.type=Ma,this.auth=_(e)}verify(e="verify",t=!1){return a(this,null,function*(){function i(s){return a(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>a(this,null,function*(){_a(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new Rn(d);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(d=>{c(d)})}))})}function r(s,o,c){let d=window.grecaptcha;Hr(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(xa)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(c=>{if(!t&&Hr(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}ri(La+c).then(()=>{r(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})})}};function $r(n,e,t,i=!1){return a(this,null,function*(){let r=new Nn(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function $e(n,e,t,i){return a(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $r(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>a(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield $r(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(s)}))})}function Ua(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(A);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function si(n,e,t){let i=_(n);u(i._canInitEmulator,i,"emulator-config-failed"),u(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=ms(e),{host:o,port:c}=Fa(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${o}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Va()}function ms(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Fa(n){let e=ms(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:jr(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:jr(o)}}}function jr(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Va(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var W=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return F("not implemented")}_getIdTokenResponse(e){return F("not implemented")}_linkToIdToken(e,t){return F("not implemented")}_getReauthenticationResolver(e){return F("not implemented")}};function gs(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:resetPassword",I(n,e))})}function Wa(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:update",e)})}function Ha(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:signUp",e)})}function Ba(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:update",I(n,e))})}function za(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signInWithPassword",I(n,e))})}function Ot(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:sendOobCode",I(n,e))})}function $a(n,e){return a(this,null,function*(){return Ot(n,e)})}function ja(n,e){return a(this,null,function*(){return Ot(n,e)})}function Ga(n,e){return a(this,null,function*(){return Ot(n,e)})}function qa(n,e){return a(this,null,function*(){return Ot(n,e)})}function Ka(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signInWithEmailLink",I(n,e))})}function Ya(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signInWithEmailLink",I(n,e))})}var je=class n extends W{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return a(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $e(e,t,"signInWithPassword",za);case"emailLink":return Ka(e,{email:this._email,oobCode:this._password});default:w(e,"internal-error")}})}_linkToIdToken(e,t){return a(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $e(e,i,"signUpPassword",Ha);case"emailLink":return Ya(e,{idToken:t,email:this._email,oobCode:this._password});default:w(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function G(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signInWithIdp",I(n,e))})}var Ja="http://localhost",D=class n extends W{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):w("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=rt(t,["providerId","signInMethod"]);if(!i||!r)return null;let o=new n(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return G(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,G(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,G(e,t)}buildRequest(){let e={requestUri:Ja,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=se(t)}return e}};function Xa(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:sendVerificationCode",I(n,e))})}function Qa(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signInWithPhoneNumber",I(n,e))})}function Za(n,e){return a(this,null,function*(){let t=yield K(n,"POST","/v1/accounts:signInWithPhoneNumber",I(n,e));if(t.temporaryProof)throw Fe(n,"account-exists-with-different-credential",t);return t})}var ec={USER_NOT_FOUND:"user-not-found"};function tc(n,e){return a(this,null,function*(){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return K(n,"POST","/v1/accounts:signInWithPhoneNumber",I(n,t),ec)})}var Te=class n extends W{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Qa(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Za(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return tc(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return!i&&!t&&!r&&!s?null:new n({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s})}};function nc(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ic(n){let e=Y(ye(n)).link,t=e?Y(ye(e)).deep_link_id:null,i=Y(ye(n)).deep_link_id;return(i?Y(ye(i)).link:null)||i||t||e||n}var Ge=class n{constructor(e){var t,i,r,s,o,c;let d=Y(ye(e)),l=(t=d.apiKey)!==null&&t!==void 0?t:null,h=(i=d.oobCode)!==null&&i!==void 0?i:null,f=nc((r=d.mode)!==null&&r!==void 0?r:null);u(l&&h&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=h,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=ic(e);try{return new n(t)}catch{return null}}};var Ze=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return je._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Ge.parseLink(i);return u(r,"argument-error"),je._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),L=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var te=class extends L{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},be=class n extends te{static credentialFromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;return u("providerId"in t&&"signInMethod"in t,"argument-error"),D._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return u(e.idToken||e.accessToken,"argument-error"),D._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return n.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:c}=e;if(!i&&!r&&!t&&!s||!c)return null;try{return new n(c)._credential({idToken:t,accessToken:i,nonce:o,pendingToken:s})}catch{return null}}};var Dt=(()=>{class n extends te{constructor(){super("facebook.com")}static credential(t){return D._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com";return n})(),Lt=(()=>{class n extends te{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return D._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})(),Mt=(()=>{class n extends te{constructor(){super("github.com")}static credential(t){return D._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com";return n})(),rc="http://localhost",de=class n extends W{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){let t=this.buildRequest();return G(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,G(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,G(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:s}=t;return!i||!r||!s||i!==r?null:new n(i,s)}static _create(e,t){return new n(e,t)}buildRequest(){return{requestUri:rc,returnSecureToken:!0,pendingToken:this.pendingToken}}};var sc="saml.",qe=class n extends L{constructor(e){u(e.startsWith(sc),"argument-error"),super(e)}static credentialFromResult(e){return n.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return n.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=de.fromJSON(e);return u(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return de._create(i,t)}catch{return null}}};var xt=(()=>{class n extends te{constructor(){super("twitter.com")}static credential(t,i){return D._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return n.credential(i,r)}catch{return null}}}n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com";return n})();function _s(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signUp",I(n,e))})}var M=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return a(this,null,function*(){let s=yield we._fromIdTokenResponse(e,i,r),o=Gr(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return a(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Gr(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function Gr(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function oi(n){return a(this,null,function*(){var e;let t=_(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new M({user:t.currentUser,providerId:null,operationType:"signIn"});let i=yield _s(t,{returnSecureToken:!0}),r=yield M._fromIdTokenResponse(t,"signIn",i,!0);return yield t._updateCurrentUser(r.user),r})}var On=class n extends T{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function vs(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?On._fromErrorAndOperation(n,s,e,i):s})}function Is(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function ai(n,e){return a(this,null,function*(){let t=p(n);yield Ut(!0,t,e);let{providerUserInfo:i}=yield Ia(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),r=Is(i||[]);return t.providerData=t.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})}function ci(n,e,t=!1){return a(this,null,function*(){let i=yield q(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return M._forOperation(n,"link",i)})}function Ut(n,e,t){return a(this,null,function*(){yield ze(e);let i=Is(e.providerData),r=n===!1?"provider-already-linked":"no-such-provider";u(i.has(t)===n,e.auth,r)})}function Es(n,e,t=!1){return a(this,null,function*(){let{auth:i}=n,r="reauthenticate";try{let s=yield q(n,vs(i,r,e,n),t);u(s.idToken,i,"internal-error");let o=Nt(s.idToken);u(o,i,"internal-error");let{sub:c}=o;return u(n.uid===c,i,"user-mismatch"),M._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&w(i,"user-mismatch"),s}})}function ys(n,e,t=!1){return a(this,null,function*(){let i="signIn",r=yield vs(n,i,e),s=yield M._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Re(n,e){return a(this,null,function*(){return ys(_(n),e)})}function Ft(n,e){return a(this,null,function*(){let t=p(n);return yield Ut(!1,t,e.providerId),ci(t,e)})}function Vt(n,e){return a(this,null,function*(){return Es(p(n),e)})}function oc(n,e){return a(this,null,function*(){return K(n,"POST","/v1/accounts:signInWithCustomToken",I(n,e))})}function di(n,e){return a(this,null,function*(){let t=_(n),i=yield oc(t,{token:e,returnSecureToken:!0}),r=yield M._fromIdTokenResponse(t,"signIn",i);return yield t._updateCurrentUser(r.user),r})}var le=class{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Dn._fromServerResponse(e,t):"totpInfo"in t?Ln._fromServerResponse(e,t):w(e,"internal-error")}},Dn=class n extends le{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new n(t)}},Ln=class n extends le{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new n(t)}};function Wt(n,e,t){var i;u(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),u(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(u(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(u(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function li(n){return a(this,null,function*(){let e=_(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ui(n,e,t){return a(this,null,function*(){let i=_(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Wt(i,r,t),yield $e(i,r,"getOobCode",ja)})}function hi(n,e,t){return a(this,null,function*(){yield gs(p(n),{oobCode:e,newPassword:t}).catch(i=>a(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&li(n),i}))})}function fi(n,e){return a(this,null,function*(){yield Ba(p(n),{oobCode:e})})}function Ht(n,e){return a(this,null,function*(){let t=p(n),i=yield gs(t,{oobCode:e}),r=i.requestType;switch(u(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":u(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":u(i.mfaInfo,t,"internal-error");default:u(i.email,t,"internal-error")}let s=null;return i.mfaInfo&&(s=le._fromServerResponse(_(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}})}function pi(n,e){return a(this,null,function*(){let{data:t}=yield Ht(p(n),e);return t.email})}function mi(n,e,t){return a(this,null,function*(){let i=_(n),o=yield $e(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_s).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&li(n),d}),c=yield M._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(c.user),c})}function gi(n,e,t){return Re(p(n),Ze.credential(e,t)).catch(i=>a(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&li(n),i}))}function _i(n,e,t){return a(this,null,function*(){let i=_(n),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,c){u(c.handleCodeInApp,i,"argument-error"),c&&Wt(i,o,c)}s(r,t),yield $e(i,r,"getOobCode",Ga)})}function vi(n,e){let t=Ge.parseLink(e);return t?.operation==="EMAIL_SIGNIN"}function Ii(n,e,t){return a(this,null,function*(){let i=p(n),r=Ze.credentialWithLink(e,t||He());return u(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Re(i,r)})}function ac(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:createAuthUri",I(n,e))})}function Ei(n,e){return a(this,null,function*(){let t=ei()?He():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:r}=yield ac(p(n),i);return r||[]})}function yi(n,e){return a(this,null,function*(){let t=p(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Wt(t.auth,r,e);let{email:s}=yield $a(t.auth,r);s!==n.email&&(yield n.reload())})}function wi(n,e,t){return a(this,null,function*(){let i=p(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Wt(i.auth,s,t);let{email:o}=yield qa(i.auth,s);o!==n.email&&(yield n.reload())})}function cc(n,e){return a(this,null,function*(){return E(n,"POST","/v1/accounts:update",e)})}function Ti(i,r){return a(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=p(n),c={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=yield q(s,cc(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;let l=s.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),yield s._updateTokensIfNecessary(d)})}function bi(n,e){return ws(p(n),e,null)}function Ai(n,e){return ws(p(n),null,e)}function ws(n,e,t){return a(this,null,function*(){let{auth:i}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);let o=yield q(n,Wa(i,s));yield n._updateTokensIfNecessary(o,!0)})}function dc(n){var e,t;if(!n)return null;let{providerId:i}=n,r=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&n?.idToken){let o=(t=(e=Nt(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(o){let c=o!=="anonymous"&&o!=="custom"?o:null;return new Z(s,c)}}if(!i)return null;switch(i){case"facebook.com":return new Mn(s,r);case"github.com":return new xn(s,r);case"google.com":return new Un(s,r);case"twitter.com":return new Fn(s,r,n.screenName||null);case"custom":case"anonymous":return new Z(s,null);default:return new Z(s,i,r)}}var Z=class{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}},bt=class extends Z{constructor(e,t,i,r){super(e,t,i),this.username=r}},Mn=class extends Z{constructor(e,t){super(e,"facebook.com",t)}},xn=class extends bt{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}},Un=class extends Z{constructor(e,t){super(e,"google.com",t)}},Fn=class extends bt{constructor(e,t,i){super(e,"twitter.com",t,i)}};function Si(n){let{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:dc(t)}var At=class n{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new n("enroll",e,t)}static _fromMfaPendingCredential(e){return new n("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e?.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return n._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return n._fromIdtoken(e.multiFactorSession.idToken)}return null}};var Vn=class n{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){let i=_(e),r=t.customData._serverResponse,s=(r.mfaInfo||[]).map(c=>le._fromServerResponse(i,c));u(r.mfaPendingCredential,i,"internal-error");let o=At._fromMfaPendingCredential(r.mfaPendingCredential);return new n(o,s,c=>a(this,null,function*(){let d=yield c._process(i,o);delete r.mfaInfo,delete r.mfaPendingCredential;let l=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":let h=yield M._fromIdTokenResponse(i,t.operationType,l);return yield i._updateCurrentUser(h.user),h;case"reauthenticate":return u(t.user,i,"internal-error"),M._forOperation(t.user,t.operationType,l);default:w(i,"internal-error")}}))}resolveSignIn(e){return a(this,null,function*(){let t=e;return this.signInResolver(t)})}};function Ri(n,e){var t;let i=p(n),r=e;return u(e.customData.operationType,i,"argument-error"),u((t=r.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,i,"argument-error"),Vn._fromError(i,r)}function lc(n,e){return E(n,"POST","/v2/accounts/mfaEnrollment:start",I(n,e))}function uc(n,e){return E(n,"POST","/v2/accounts/mfaEnrollment:finalize",I(n,e))}function hc(n,e){return E(n,"POST","/v2/accounts/mfaEnrollment:withdraw",I(n,e))}var Wn=class n{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>le._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new n(e)}getSession(){return a(this,null,function*(){return At._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,t){return a(this,null,function*(){let i=e,r=yield this.getSession(),s=yield q(this.user,i._process(this.user.auth,r,t));return yield this.user._updateTokensIfNecessary(s),this.user.reload()})}unenroll(e){return a(this,null,function*(){let t=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield q(this.user,hc(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},Tn=new WeakMap;function Pi(n){let e=p(n);return Tn.has(e)||Tn.set(e,Wn._fromUser(e)),Tn.get(e)}var St="__sak";var Rt=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(St,"1"),this.storage.removeItem(St),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function fc(){let n=v();return ni(n)||fe(n)}var pc=1e3,mc=10,gc=(()=>{class n extends Rt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fc()&&Ca(),this.fallbackToPolling=fs(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,d,l)=>{this.notifyListeners(c,l)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let s=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);ka()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,mc):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},pc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return a(this,null,function*(){yield re(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return a(this,null,function*(){let i=yield re(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return a(this,null,function*(){yield re(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Pe=gc;var _c=(()=>{class n extends Rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),H=_c;function vc(n){return Promise.all(n.map(e=>a(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Ic=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return a(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,c=this.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let d=Array.from(c).map(h=>a(this,null,function*(){return h(i.origin,o)})),l=yield vc(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function pe(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Hn=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return a(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,d)=>{let l=pe("",20);r.port1.start();let h=setTimeout(()=>{d(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let m=f;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(h),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function y(){return window}function Ec(n){y().location.href=n}function ki(){return typeof y().WorkerGlobalScope<"u"&&typeof y().importScripts=="function"}function yc(){return a(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wc(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Tc(){return ki()?self:null}var Ts="firebaseLocalStorageDb",bc=1,Pt="firebaseLocalStorage",bs="fbase_key",ue=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bt(n,e){return n.transaction([Pt],e?"readwrite":"readonly").objectStore(Pt)}function Ac(){let n=indexedDB.deleteDatabase(Ts);return new ue(n).toPromise()}function Bn(){let n=indexedDB.open(Ts,bc);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Pt,{keyPath:bs})}catch(r){t(r)}}),n.addEventListener("success",()=>a(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Pt)?e(i):(i.close(),yield Ac(),e(yield Bn()))}))})}function qr(n,e,t){return a(this,null,function*(){let i=Bt(n,!0).put({[bs]:e,value:t});return new ue(i).toPromise()})}function Sc(n,e){return a(this,null,function*(){let t=Bt(n,!1).get(e),i=yield new ue(t).toPromise();return i===void 0?null:i.value})}function Kr(n,e){let t=Bt(n,!0).delete(e);return new ue(t).toPromise()}var Rc=800,Pc=3,kc=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return a(this,null,function*(){return this.db?this.db:(this.db=yield Bn(),this.db)})}_withRetries(t){return a(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>Pc)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return a(this,null,function*(){return ki()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return a(this,null,function*(){this.receiver=Ic._getInstance(Tc()),this.receiver._subscribe("keyChanged",(t,i)=>a(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>a(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return a(this,null,function*(){var t,i;if(this.activeServiceWorker=yield yc(),!this.activeServiceWorker)return;this.sender=new Hn(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return a(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wc()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return a(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Bn();return yield qr(t,St,"1"),yield Kr(t,St),!0}catch{}return!1})}_withPendingWrite(t){return a(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return a(this,null,function*(){return this._withPendingWrite(()=>a(this,null,function*(){return yield this._withRetries(r=>qr(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return a(this,null,function*(){let i=yield this._withRetries(r=>Sc(r,t));return this.localCache[t]=i,i})}_remove(t){return a(this,null,function*(){return this._withPendingWrite(()=>a(this,null,function*(){return yield this._withRetries(i=>Kr(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return a(this,null,function*(){let t=yield this._withRetries(s=>{let o=Bt(s,!1).getAll();return new ue(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>a(this,null,function*(){return this._poll()}),Rc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),me=kc;function Cc(n,e){return E(n,"POST","/v2/accounts/mfaSignIn:start",I(n,e))}function Nc(n,e){return E(n,"POST","/v2/accounts/mfaSignIn:finalize",I(n,e))}var Oc=500,Dc=6e4,mt=1e12,zn=class{constructor(e){this.auth=e,this.counter=mt,this._widgets=new Map}render(e,t){let i=this.counter;return this._widgets.set(i,new $n(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;let i=e||mt;(t=this._widgets.get(i))===null||t===void 0||t.delete(),this._widgets.delete(i)}getResponse(e){var t;let i=e||mt;return((t=this._widgets.get(i))===null||t===void 0?void 0:t.getResponse())||""}execute(e){return a(this,null,function*(){var t;let i=e||mt;return(t=this._widgets.get(i))===null||t===void 0||t.execute(),""})}},$n=class{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;u(r,"argument-error",{appName:t}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Lc(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Dc)},Oc))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function Lc(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var bn=ps("rcb"),Mc=new ce(3e4,6e4),xc="https://www.google.com/recaptcha/api.js?",jn=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=y().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return u(Uc(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Wr(y().grecaptcha)?Promise.resolve(y().grecaptcha):new Promise((i,r)=>{let s=y().setTimeout(()=>{r(b(e,"network-request-failed"))},Mc.get());y()[bn]=()=>{y().clearTimeout(s),delete y()[bn];let c=y().grecaptcha;if(!c||!Wr(c)){r(b(e,"internal-error"));return}let d=c.render;c.render=(l,h)=>{let f=d(l,h);return this.counter++,f},this.hostLanguage=t,i(c)};let o=`${xc}?${se({onload:bn,render:"explicit",hl:t})}`;ri(o).catch(()=>{clearTimeout(s),r(b(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=y().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function Uc(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var Gn=class{load(e){return a(this,null,function*(){return new zn(e)})}clearedOneInstance(){}};var As="recaptcha",Fc={theme:"light",type:"image"},Ke=class{constructor(e,t,i=Object.assign({},Fc)){this.parameters=i,this.type=As,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_(e),this.isInvisible=this.parameters.size==="invisible",u(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof t=="string"?document.getElementById(t):t;u(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gn:new jn,this.validateStartingState()}verify(){return a(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(r=>{let s=o=>{o&&(this.tokenChangeListeners.delete(s),r(o))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){u(!this.parameters.sitekey,this.auth,"argument-error"),u(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),u(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){let i=y()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){u(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return a(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return a(this,null,function*(){u(ei()&&!ki(),this.auth,"internal-error"),yield Vc(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield ga(this.auth);u(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return u(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Vc(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var Ye=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=Te._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};function Ci(n,e,t){return a(this,null,function*(){let i=_(n),r=yield zt(i,e,p(t));return new Ye(r,s=>Re(i,s))})}function Ni(n,e,t){return a(this,null,function*(){let i=p(n);yield Ut(!1,i,"phone");let r=yield zt(i.auth,e,p(t));return new Ye(r,s=>Ft(i,s))})}function Oi(n,e,t){return a(this,null,function*(){let i=p(n),r=yield zt(i.auth,e,p(t));return new Ye(r,s=>Vt(i,s))})}function zt(n,e,t){return a(this,null,function*(){var i;let r=yield t.verify();try{u(typeof r=="string",n,"argument-error"),u(t.type===As,n,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){let o=s.session;if("phoneNumber"in s)return u(o.type==="enroll",n,"internal-error"),(yield lc(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{u(o.type==="signin",n,"internal-error");let c=((i=s.multiFactorHint)===null||i===void 0?void 0:i.uid)||s.multiFactorUid;return u(c,n,"missing-multi-factor-info"),(yield Cc(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:o}=yield Xa(n,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{t._reset()}})}function Di(n,e){return a(this,null,function*(){yield ci(p(n),e)})}var ge=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=_(t)}verifyPhoneNumber(t,i){return zt(this.auth,t,p(i))}static credential(t,i){return Te._fromVerification(t,i)}static credentialFromResult(t){let i=t;return n.credentialFromTaggedObject(i)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{phoneNumber:i,temporaryProof:r}=t;return i&&r?Te._fromTokenResponse(i,r):null}}n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone";return n})();function _e(n,e){return e?A(e):(u(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Je=class extends W{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return G(e,this._buildIdpRequest())}_linkToIdToken(e,t){return G(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return G(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Wc(n){return ys(n.auth,new Je(n),n.bypassAuthState)}function Hc(n){let{auth:e,user:t}=n;return u(t,e,"internal-error"),Es(t,new Je(n),n.bypassAuthState)}function Bc(n){return a(this,null,function*(){let{auth:e,user:t}=n;return u(t,e,"internal-error"),ci(t,new Je(n),n.bypassAuthState)})}var kt=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>a(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return a(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let d={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(d))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wc;case"linkViaPopup":case"linkViaRedirect":return Bc;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:w(this.auth,"internal-error")}}resolve(e){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){N(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var zc=new ce(2e3,1e4);function Li(n,e,t){return a(this,null,function*(){let i=_(n);Ae(n,e,L);let r=_e(i,t);return new Ui(i,"signInViaPopup",e,r).executeNotNull()})}function Mi(n,e,t){return a(this,null,function*(){let i=p(n);Ae(i.auth,e,L);let r=_e(i.auth,t);return new Ui(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function xi(n,e,t){return a(this,null,function*(){let i=p(n);Ae(i.auth,e,L);let r=_e(i.auth,t);return new Ui(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var Ui=(()=>{class n extends kt{constructor(t,i,r,s,o){super(t,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return a(this,null,function*(){let t=yield this.execute();return u(t,this.auth,"internal-error"),t})}onExecution(){return a(this,null,function*(){N(this.filter.length===1,"Popup operations only handle one event");let t=pe();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zc.get())};t()}}n.currentPopupAction=null;return n})(),$c="pendingRedirect",We=new Map,qn=class n extends kt{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return a(this,null,function*(){let e=We.get(this.auth._key());if(!e){try{let i=(yield jc(this.resolver,this.auth))?yield re(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}We.set(this.auth._key(),e)}return this.bypassAuthState||We.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return a(this,null,function*(){if(e.type==="signInViaRedirect")return re(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,re(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return a(this,null,function*(){})}cleanUp(){}};function jc(n,e){return a(this,null,function*(){let t=Ps(e),i=Rs(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Fi(n,e){return a(this,null,function*(){return Rs(n)._set(Ps(e),"true")})}function Ss(){We.clear()}function ke(n,e){We.set(n._key(),e)}function Rs(n){return A(n._redirectPersistence)}function Ps(n){return V($c,n.config.apiKey,n.name)}function Vi(n,e,t){return Gc(n,e,t)}function Gc(n,e,t){return a(this,null,function*(){let i=_(n);Ae(n,e,L),yield i._initializationPromise;let r=_e(i,t);return yield Fi(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function Wi(n,e,t){return qc(n,e,t)}function qc(n,e,t){return a(this,null,function*(){let i=p(n);Ae(i.auth,e,L),yield i.auth._initializationPromise;let r=_e(i.auth,t);yield Fi(r,i.auth);let s=yield ks(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",s)})}function Hi(n,e,t){return Kc(n,e,t)}function Kc(n,e,t){return a(this,null,function*(){let i=p(n);Ae(i.auth,e,L),yield i.auth._initializationPromise;let r=_e(i.auth,t);yield Ut(!1,i,e.providerId),yield Fi(r,i.auth);let s=yield ks(i);return r._openRedirect(i.auth,e,"linkViaRedirect",s)})}function Bi(n,e){return a(this,null,function*(){return yield _(n)._initializationPromise,ve(n,e,!1)})}function ve(n,e,t=!1){return a(this,null,function*(){let i=_(n),r=_e(i,e),o=yield new qn(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}function ks(n){return a(this,null,function*(){let e=pe(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})}var Yc=10*60*1e3,Xe=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jc(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Cs(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yc&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yr(e))}saveEventToCache(e){this.cachedEventUids.add(Yr(e)),this.lastProcessedEventTime=Date.now()}};function Yr(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cs({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Jc(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(n);default:return!1}}function zi(t){return a(this,arguments,function*(n,e={}){return E(n,"GET","/v1/projects",e)})}var Xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qc=/^https?/;function Zc(n){return a(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield zi(n);for(let t of e)try{if(ed(t))return}catch{}w(n,"unauthorized-domain")})}function ed(n){let e=He(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!Qc.test(t))return!1;if(Xc.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var td=new ce(3e4,6e4);function Jr(){let n=y().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nd(n){return new Promise((e,t)=>{var i,r,s;function o(){Jr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jr(),t(b(n,"network-request-failed"))},timeout:td.get()})}if(!((r=(i=y().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=y().gapi)===null||s===void 0)&&s.load)o();else{let c=ps("iframefcb");return y()[c]=()=>{gapi.load?o():t(b(n,"network-request-failed"))},ri(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw _t=null,e})}var _t=null;function id(n){return _t=_t||nd(n),_t}var rd=new ce(5e3,15e3),sd="__/auth/iframe",od="emulator/auth/iframe",ad={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dd(n){let e=n.config;u(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?ti(e,od):`https://${n.config.authDomain}/${sd}`,i={apiKey:e.apiKey,appName:n.name,v:j},r=cd.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${se(i).slice(1)}`}function ld(n){return a(this,null,function*(){let e=yield id(n),t=y().gapi;return u(t,n,"internal-error"),e.open({where:document.body,url:dd(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ad,dontclear:!0},i=>new Promise((r,s)=>a(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=b(n,"network-request-failed"),c=y().setTimeout(()=>{s(o)},rd.get());function d(){y().clearTimeout(c),r(i)}i.ping(d).then(d,()=>{s(o)})})))})}var ud={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hd=500,fd=600,pd="_blank",md="http://localhost",Qe=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function gd(n,e,t,i=hd,r=fd){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",d=Object.assign(Object.assign({},ud),{width:i.toString(),height:r.toString(),top:s,left:o}),l=v().toLowerCase();t&&(c=cs(l)?pd:t),as(l)&&(e=e||md,d.scrollbars="yes");let h=Object.entries(d).reduce((m,[S,ie])=>`${m}${S}=${ie},`,"");if(Pa(l)&&c!=="_self")return _d(e||"",c),new Qe(null);let f=window.open(e||"",c,h);u(f,n,"popup-blocked");try{f.focus()}catch{}return new Qe(f)}function _d(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var vd="__/auth/handler",Id="emulator/auth/handler",Ed=encodeURIComponent("fac");function Ct(n,e,t,i,r,s){return a(this,null,function*(){u(n.config.authDomain,n,"auth-domain-config-required"),u(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:j,eventId:r};if(e instanceof L){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",vr(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof te){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let d=yield n._getAppCheckToken(),l=d?`#${Ed}=${encodeURIComponent(d)}`:"";return`${yd(n)}?${se(c).slice(1)}${l}`})}function yd({config:n}){return n.emulator?ti(n,Id):`https://${n.authDomain}/${vd}`}var An="webStorageSupport",Kn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H,this._completeRedirectFn=ve,this._overrideRedirectResult=ke}_openPopup(e,t,i,r){return a(this,null,function*(){var s;N((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Ct(e,t,i,He(),r);return gd(e,o,pe())})}_openRedirect(e,t,i,r){return a(this,null,function*(){yield this._originValidation(e);let s=yield Ct(e,t,i,He(),r);return Ec(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(N(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return a(this,null,function*(){let t=yield ld(e),i=new Xe(e);return t.register("authEvent",r=>(u(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(An,{type:An},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[An];o!==void 0&&t(!!o),w(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zc(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fs()||ni()||fe()}},$i=Kn,Yn=class{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return F("unexpected MultiFactorSessionType")}}},Jn=class n extends Yn{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new n(e)}_finalizeEnroll(e,t,i){return uc(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Nc(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},ji=(()=>{class n{constructor(){}static assertion(t){return Jn._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var Xr="@firebase/auth",Qr="1.5.1";var Xn=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return a(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){u(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wd(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Td(n){$(new R("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;u(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ii(n)},l=new wt(i,r,s,d);return Ua(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$(new R("auth-internal",e=>{let t=_(e.getProvider("auth").getImmediate());return(i=>new Xn(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),O(Xr,Qr,wd(n)),O(Xr,Qr,"esm2017")}var bd=5*60,Fl=pr("authIdTokenMaxAge")||bd;Td("Browser");function Ie(){return window}var Ad=2e3;function Sd(n,e,t){return a(this,null,function*(){var i;let{BuildInfo:r}=Ie();N(e.sessionId,"AuthEvent did not contain a session ID");let s=yield Nd(e.sessionId),o={};return fe()?o.ibi=r.packageName:Se()?o.apn=r.packageName:w(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,Ct(n,t,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,o)})}function Rd(n){return a(this,null,function*(){let{BuildInfo:e}=Ie(),t={};fe()?t.iosBundleId=e.packageName:Se()?t.androidPackageName=e.packageName:w(n,"operation-not-supported-in-this-environment"),yield zi(n,t)})}function Pd(n){let{cordova:e}=Ie();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(n):r=e.InAppBrowser.open(n,hs()?"_blank":"_system","location=yes"),t(r)})})}function kd(n,e,t){return a(this,null,function*(){let{cordova:i}=Ie(),r=()=>{};try{yield new Promise((s,o)=>{let c=null;function d(){var f;s();let m=(f=i.plugins.browsertab)===null||f===void 0?void 0:f.close;typeof m=="function"&&m(),typeof t?.close=="function"&&t.close()}function l(){c||(c=window.setTimeout(()=>{o(b(n,"redirect-cancelled-by-user"))},Ad))}function h(){document?.visibilityState==="visible"&&l()}e.addPassiveListener(d),document.addEventListener("resume",l,!1),Se()&&document.addEventListener("visibilitychange",h,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",h,!1),c&&window.clearTimeout(c)}})}finally{r()}})}function Cd(n){var e,t,i,r,s,o,c,d,l,h;let f=Ie();u(typeof((e=f?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),u(typeof((t=f?.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),u(typeof((s=(r=(i=f?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),u(typeof((d=(c=(o=f?.cordova)===null||o===void 0?void 0:o.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),u(typeof((h=(l=f?.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||h===void 0?void 0:h.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Nd(n){return a(this,null,function*(){let e=Od(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function Od(n){if(N(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);let e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}var Dd=20,Gi=class extends Xe{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){return a(this,null,function*(){yield this.initPromise})}};function Ld(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Ud(),postBody:null,tenantId:n.tenantId,error:b(n,"no-auth-event")}}function Md(n,e){return qi()._set(Ki(n),e)}function Ns(n){return a(this,null,function*(){let e=yield qi()._get(Ki(n));return e&&(yield qi()._remove(Ki(n))),e})}function xd(n,e){var t,i;let r=Vd(e);if(r.includes("/__/auth/callback")){let s=$t(r),o=s.firebaseError?Fd(decodeURIComponent(s.firebaseError)):null,c=(i=(t=o?.code)===null||t===void 0?void 0:t.split("auth/"))===null||i===void 0?void 0:i[1],d=c?b(c):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}function Ud(){let n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Dd;t++){let i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function qi(){return A(Pe)}function Ki(n){return V("authEvent",n.config.apiKey,n.name)}function Fd(n){try{return JSON.parse(n)}catch{return null}}function Vd(n){let e=$t(n),t=e.link?decodeURIComponent(e.link):void 0,i=$t(t).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return $t(r).link||r||i||t||n}function $t(n){if(!n?.includes("?"))return{};let[e,...t]=n.split("?");return Y(t.join("?"))}var Wd=500,Yi=class{constructor(){this._redirectPersistence=H,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ve,this._overrideRedirectResult=ke}_initialize(e){return a(this,null,function*(){let t=e._key(),i=this.eventManagers.get(t);return i||(i=new Gi(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){w(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,i,r){return a(this,null,function*(){Cd(e);let s=yield this._initialize(e);yield s.initialized(),s.resetRedirect(),Ss(),yield this._originValidation(e);let o=Ld(e,i,r);yield Md(e,o);let c=yield Sd(e,o,t),d=yield Pd(c);return kd(e,s,d)})}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rd(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:i,handleOpenURL:r,BuildInfo:s}=Ie(),o=setTimeout(()=>a(this,null,function*(){yield Ns(e),t.onEvent(Os())}),Wd),c=h=>a(this,null,function*(){clearTimeout(o);let f=yield Ns(e),m=null;f&&h?.url&&(m=xd(f,h.url)),t.onEvent(m||Os())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);let d=r,l=`${s.packageName.toLowerCase()}://`;Ie().handleOpenURL=h=>a(this,null,function*(){if(h.toLowerCase().startsWith(l)&&c({url:h}),typeof d=="function")try{d(h)}catch(f){console.error(f)}})}},Ds=Yi;function Os(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:b("no-auth-event")}}function Ls(n,e){_(n)._logFramework(e)}var Bd="@firebase/auth-compat",zd="0.5.1";var $d=1e3;function nt(){var n;return((n=self?.location)===null||n===void 0?void 0:n.protocol)||null}function jd(){return nt()==="http:"||nt()==="https:"}function Us(n=v()){return!!((nt()==="file:"||nt()==="ionic:"||nt()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gd(){return De()||at()}function qd(){return dt()&&document?.documentMode===11}function Kd(n=v()){return/Edge\/\d+/.test(n)}function Yd(n=v()){return qd()||Kd(n)}function Fs(){try{let n=self.localStorage,e=pe();if(n)return n.setItem(e,"1"),n.removeItem(e),Yd()?Ee():!0}catch{return tr()&&Ee()}return!1}function tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ji(){return(jd()||ct()||Us())&&!Gd()&&Fs()&&!tr()}function Vs(){return Us()&&typeof document<"u"}function Jd(){return a(this,null,function*(){return Vs()?new Promise(n=>{let e=setTimeout(()=>{n(!1)},$d);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1})}function Xd(){return typeof window<"u"?window:null}var k={LOCAL:"local",NONE:"none",SESSION:"session"},et=u,Ws="persistence";function Qd(n,e){if(et(Object.values(k).includes(e),n,"invalid-persistence-type"),De()){et(e!==k.SESSION,n,"unsupported-persistence-type");return}if(at()){et(e===k.NONE,n,"unsupported-persistence-type");return}if(tr()){et(e===k.NONE||e===k.LOCAL&&Ee(),n,"unsupported-persistence-type");return}et(e===k.NONE||Fs(),n,"unsupported-persistence-type")}function Xi(n){return a(this,null,function*(){yield n._initializationPromise;let e=Hs(),t=V(Ws,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())})}function Zd(n,e){let t=Hs();if(!t)return[];let i=V(Ws,n,e);switch(t.getItem(i)){case k.NONE:return[ee];case k.LOCAL:return[me,H];case k.SESSION:return[H];default:return[]}}function Hs(){var n;try{return((n=Xd())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}var el=u,B=class{constructor(){this.browserResolver=A($i),this.cordovaResolver=A(Ds),this.underlyingResolver=null,this._redirectPersistence=H,this._completeRedirectFn=ve,this._overrideRedirectResult=ke}_initialize(e){return a(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,t,i,r){return a(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,r)})}_openRedirect(e,t,i,r){return a(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,r)})}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Vs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return el(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return a(this,null,function*(){if(this.underlyingResolver)return;let e=yield Jd();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function Bs(n){return n.unwrap()}function tl(n){return n.wrapped()}function nl(n){return zs(n)}function il(n,e){var t;let i=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new Zi(n,Ri(n,e))}else if(i){let r=zs(e),s=e;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}function zs(n){let{_tokenResponse:e}=n instanceof T?n.customData:n;if(!e)return null;if(!(n instanceof T)&&"temporaryProof"in e&&"phoneNumber"in e)return ge.credentialFromResult(n);let t=e.providerId;if(!t||t===he.PASSWORD)return null;let i;switch(t){case he.GOOGLE:i=Lt;break;case he.FACEBOOK:i=Dt;break;case he.GITHUB:i=Mt;break;case he.TWITTER:i=xt;break;default:let{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d}=e;return!s&&!o&&!r&&!c?null:c?t.startsWith("saml.")?de._create(t,c):D._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:r,accessToken:s}):new be(t).credential({idToken:r,accessToken:s,rawNonce:d})}return n instanceof T?i.credentialFromError(n):i.credentialFromResult(n)}function P(n,e){return e.catch(t=>{throw t instanceof T&&il(n,t),t}).then(t=>{let i=t.operationType,r=t.user;return{operationType:i,credential:nl(t),additionalUserInfo:Si(t),user:Ce.getOrCreate(r)}})}function Qi(n,e){return a(this,null,function*(){let t=yield e;return{verificationId:t.verificationId,confirm:i=>P(n,t.confirm(i))}})}var Zi=class{constructor(e,t){this.resolver=t,this.auth=tl(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return P(Bs(this.auth),this.resolver.resolveSignIn(e))}};var Ce=class n{constructor(e){this._delegate=e,this.multiFactor=Pi(e)}static getOrCreate(e){return n.USER_MAP.has(e)||n.USER_MAP.set(e,new n(e)),n.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return a(this,null,function*(){return P(this.auth,Ft(this._delegate,e))})}linkWithPhoneNumber(e,t){return a(this,null,function*(){return Qi(this.auth,Ni(this._delegate,e,t))})}linkWithPopup(e){return a(this,null,function*(){return P(this.auth,xi(this._delegate,e,B))})}linkWithRedirect(e){return a(this,null,function*(){return yield Xi(_(this.auth)),Hi(this._delegate,e,B)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return a(this,null,function*(){return P(this.auth,Vt(this._delegate,e))})}reauthenticateWithPhoneNumber(e,t){return Qi(this.auth,Oi(this._delegate,e,t))}reauthenticateWithPopup(e){return P(this.auth,Mi(this._delegate,e,B))}reauthenticateWithRedirect(e){return a(this,null,function*(){return yield Xi(_(this.auth)),Wi(this._delegate,e,B)})}sendEmailVerification(e){return yi(this._delegate,e)}unlink(e){return a(this,null,function*(){return yield ai(this._delegate,e),this})}updateEmail(e){return bi(this._delegate,e)}updatePassword(e){return Ai(this._delegate,e)}updatePhoneNumber(e){return Di(this._delegate,e)}updateProfile(e){return Ti(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return wi(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ce.USER_MAP=new WeakMap;var tt=u,Ms=(()=>{class n{constructor(t,i){if(this.app=t,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=t.options;tt(r,"invalid-api-key",{appName:t.name}),tt(r,"invalid-api-key",{appName:t.name});let s=typeof window<"u"?B:void 0;this._delegate=i.initialize({options:{persistence:rl(r,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Qn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ce.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,i){si(this._delegate,t,i)}applyActionCode(t){return fi(this._delegate,t)}checkActionCode(t){return Ht(this._delegate,t)}confirmPasswordReset(t,i){return hi(this._delegate,t,i)}createUserWithEmailAndPassword(t,i){return a(this,null,function*(){return P(this._delegate,mi(this._delegate,t,i))})}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return Ei(this._delegate,t)}isSignInWithEmailLink(t){return vi(this._delegate,t)}getRedirectResult(){return a(this,null,function*(){tt(Ji(),this._delegate,"operation-not-supported-in-this-environment");let t=yield Bi(this._delegate,B);return t?P(this._delegate,Promise.resolve(t)):{credential:null,user:null}})}addFrameworkForLogging(t){Ls(this._delegate,t)}onAuthStateChanged(t,i,r){let{next:s,error:o,complete:c}=xs(t,i,r);return this._delegate.onAuthStateChanged(s,o,c)}onIdTokenChanged(t,i,r){let{next:s,error:o,complete:c}=xs(t,i,r);return this._delegate.onIdTokenChanged(s,o,c)}sendSignInLinkToEmail(t,i){return _i(this._delegate,t,i)}sendPasswordResetEmail(t,i){return ui(this._delegate,t,i||void 0)}setPersistence(t){return a(this,null,function*(){Qd(this._delegate,t);let i;switch(t){case k.SESSION:i=H;break;case k.LOCAL:i=(yield A(me)._isAvailable())?me:Pe;break;case k.NONE:i=ee;break;default:return w("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return P(this._delegate,oi(this._delegate))}signInWithCredential(t){return P(this._delegate,Re(this._delegate,t))}signInWithCustomToken(t){return P(this._delegate,di(this._delegate,t))}signInWithEmailAndPassword(t,i){return P(this._delegate,gi(this._delegate,t,i))}signInWithEmailLink(t,i){return P(this._delegate,Ii(this._delegate,t,i))}signInWithPhoneNumber(t,i){return Qi(this._delegate,Ci(this._delegate,t,i))}signInWithPopup(t){return a(this,null,function*(){return tt(Ji(),this._delegate,"operation-not-supported-in-this-environment"),P(this._delegate,Li(this._delegate,t,B))})}signInWithRedirect(t){return a(this,null,function*(){return tt(Ji(),this._delegate,"operation-not-supported-in-this-environment"),yield Xi(this._delegate),Vi(this._delegate,t,B)})}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return pi(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=k,n})();function xs(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);let r=i;return{next:o=>r(o&&Ce.getOrCreate(o)),error:e,complete:t}}function rl(n,e){let t=Zd(n,e);if(typeof self<"u"&&!t.includes(me)&&t.push(me),typeof window<"u")for(let i of[Pe,H])t.includes(i)||t.push(i);return t.includes(ee)||t.push(ee),t}var it=class{constructor(){this.providerId="phone",this._delegate=new ge(Bs(pt.auth()))}static credential(e,t){return ge.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}};it.PHONE_SIGN_IN_METHOD=ge.PHONE_SIGN_IN_METHOD;it.PROVIDER_ID=ge.PROVIDER_ID;var sl=u,er=class{constructor(e,t,i=pt.app()){var r;sl((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ke(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var ol="auth-compat";function al(n){n.INTERNAL.registerComponent(new R(ol,e=>{let t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Ms(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ne.EMAIL_SIGNIN,PASSWORD_RESET:ne.PASSWORD_RESET,RECOVER_EMAIL:ne.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ne.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ne.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ne.VERIFY_EMAIL}},EmailAuthProvider:Ze,FacebookAuthProvider:Dt,GithubAuthProvider:Mt,GoogleAuthProvider:Lt,OAuthProvider:be,SAMLAuthProvider:qe,PhoneAuthProvider:it,PhoneMultiFactorGenerator:ji,RecaptchaVerifier:er,TwitterAuthProvider:xt,Auth:Ms,AuthCredential:W,Error:T}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Bd,zd)}al(pt);export{hr as a,cl as b,st as c,dl as d,v as e,ll as f,Ee as g,T as h,C as i,p as j,R as k,g as l,J as m,$ as n,gn as o,j as p,ft as q,Dr as r,Yo as s,O as t,pt as u};
